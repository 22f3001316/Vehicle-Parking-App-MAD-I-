{% extends 'base.html' %}

{% block title %}Add New Parking Lot | Vehicle Parking App{% endblock %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand font-weight-bold" href="{{ url_for('admin_dashboard') }}">Admin Dashboard</a>
    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav text-center">
        <li class="nav-item"><a class="nav-link" href="{{ url_for('admin_dashboard') }}">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('view_all_users') }}">Users</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('search') }}">Search</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('admin_summary') }}">Summary</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('edit_admin_profile') }}">Edit Profile</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>
{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
  <div class="card shadow p-4" style="width: 100%; max-width: 500px;">
    <h4 class="text-center font-weight-bold mb-4">Add New Parking Lot</h4>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert">&times;</button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST">
      <div class="form-group">
        <label for="name">Location Name</label>
        <input id="name" name="name" type="text" class="form-control" required placeholder="e.g. MG Road Parking">
      </div>

      <div class="form-group">
        <label for="price">Rate per Hour</label>
        <input id="price" name="price" type="number" step="0.01" class="form-control" required placeholder="e.g. 20.00">
      </div>

      <div class="form-group">
        <label for="address">Street Address</label>
        <input id="address" name="address" type="text" class="form-control" required placeholder="e.g. 123 Main St">
      </div>

      <div class="form-group">
        <label for="pin">Postal Code</label>
        <input id="pin" name="pin" type="text" class="form-control" required pattern="\d{6}" maxlength="6" placeholder="e.g. 560001">
      </div>

      <div class="form-group">
        <label for="max_spots">Total Spots</label>
        <input id="max_spots" name="max_spots" type="number" class="form-control" required min="1" placeholder="e.g. 30">
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-success w-100">Create Lot</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
